# Bot-Scheduler
Telegram-Bot разработан как вариант дистанционного обучения для помощи студентам в отслеживании их успеваемости и подготовки к занятиям.

Расширение .gs означает Google scripts

Сам файл является скриптом для Google Sheet, в которой находятся таблички, в которых содержатся информация о пользователях, сценарии бота.

Первая таблица (информация о пользователях) выглядит следующим образом:
![First table example](/first_table.png)

В данной таблице в первом стлобце располагается chat_id (идентификатор переписки бота с пользователем, по которому отправляются сообщения), во втором и третьем столбцах находятся first_name и last_name пользователь. Дальше идут ответы на вопросы теста, который пользователь проходил после ознакомления с материалом.

Пятая таблица (сценарий бота) выглядит следующим образом: (сценарии для бота были написаны [Александром Варнавским](https://www.hse.ru/staff/avarnavsky))
![Fifth table example](/fifth_table.png)

В данной примере в первом столбце, после всех сценариев, идет обращение к данным первой таблице за получением chat_id.
Дальше идут стадии бота:
  1) Процесс рассылки.
  2) Процесс изучения материала.
  3) Процесс выполнения теста.

Изначально бот отправляет рассылку раз в час, выставляя время до следующей рассылки в 60 минут. Так как триггер выполяет функцию `<informUsers>` каждую минуту, в табличке значение второго столбца уменьшается пока не дойдет до 0 и не начнется новая рассылка для данного пользователя или пользователь не перейдет на следующую стадию (стадию изучения материала, а из нее в выполнение теста). В случае неудачи на тесте, рассылка бот переходит в стадию рассылки для данного пользователя.
